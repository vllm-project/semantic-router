# Pattern 1:1 — Bring Your Own Token (BYOT)
#
# The user's Bearer token IS their provider key.
# Authorino looks up this Secret by matching the api_key field,
# then injects the same key as x-user-openai-key (from annotations).
#
# Flow: User sends "Bearer sk-byot-dave-own-openai-key-abc123"
#       → Authorino matches this Secret
#       → Injects x-user-openai-key: sk-byot-dave-own-openai-key-abc123
#       → ext_proc uses that key for upstream OpenAI request
#
apiVersion: v1
kind: Secret
metadata:
  name: user-dave-byot
  labels:
    app: semantic-router
    authorino.kuadrant.io/managed-by: authorino
  annotations:
    openai-key: "sk-byot-dave-own-openai-key-abc123"
    anthropic-key: "sk-ant-byot-dave-own-anthropic-key-xyz"
stringData:
  api_key: "sk-byot-dave-own-openai-key-abc123"   # same as the user's own OpenAI key
type: Opaque
