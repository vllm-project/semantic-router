# Profile B: Envoy Gateway SecurityPolicy
#
# Same as the default, but made explicit. Useful when running behind
# Envoy Gateway's SecurityPolicy (ExtAuth gRPC) which uses the same ext_authz
# filter under the hood. Response headers from CheckResponse are automatically
# added to the upstream request â€” no extra SecurityPolicy config needed.
#
# FAIL-CLOSED (default): if Authorino/ext_authz is down or misconfigured,
# requests are rejected instead of silently bypassing auth.

authz:
  fail_open: false             # explicit: reject if no key found (default)
  providers:
    - type: header-injection
      headers:
        openai: "x-user-openai-key"
        anthropic: "x-user-anthropic-key"
    - type: static-config

model_config:
  gpt-4o-mini:
    model_name: gpt-4o-mini
    access_key: ""
  claude-sonnet-4-5-20250929:
    model_name: claude-sonnet-4-5-20250929
    access_key: ""
